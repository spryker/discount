<section
    class="spy-grid interactive"
    ng-controller="GridController"
    src="/discount/grid/discount"
    name="discount-grid"
>
    <h3>Discounts</h3>

    <div spy-grid-pages="pages" labels="{ items : 'Show items %n', pages : 'Page %n of %m' }"></div>

    <table>
        <thead>
            <tr>
                <th spy-grid-head="columns['display_name']" label="Name"></th>
                <th spy-grid-head="columns['amount']" label="Amount"></th>
                <th spy-grid-head="columns['description']" label="Description"></th>
                <th spy-grid-head="columns['calculator_plugin']" label="Calculator"></th>
                <th spy-grid-head="columns['collector_plugin']" label="Collector"></th>
                <th spy-grid-head="columns['is_active']" label="Is Privileged"></th>
                <th spy-grid-head="columns['is_active']" label="Is Active"></th>
            </tr>
        </thead>

        <tbody>
            <tr ng-repeat="row in rows" ng-click="$emitAsChannel('discount-update-click', 'discount-form', row)">
                <td>{[{ row['display_name'] }]}</td>
                <td>{[{ row['amount'] }]}</td>
                <td>{[{ row['description'] }]}</td>
                <td>{[{ row['calculator_plugin'] }]}</td>
                <td>{[{ row['collector_plugin'] }]}</td>
                <td><spy-format-boolean content="row['is_privileged']"></spy-format-boolean></td>
                <td><spy-format-boolean content="row['is_active']"></spy-format-boolean></td>
            </tr>
            <tr ng-if="!rows.length">
                <td colspan="7">No results found</td>
            </tr>
        </tbody>
    </table>

    <div spy-grid-pages="pages" labels="{ items : 'Show items %n', pages : 'Page %n of %m' }"></div>

    <div class="spy-layout buttons">
        <button class="button default" ng-click="$emitAsChannel('discount-create-click', 'discount-form', {})">Create</button>
    </div>
</section>
